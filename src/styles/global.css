@import "tailwindcss";

@layer utilities {
  @keyframes ticker {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(-50%);
    }
  }

  .animate-ticker {
    animation: ticker 26s linear infinite;
  }
}

:root {
  --page-bg: #f7f4ed;
  --page-grid: #e6e0d1;
  --surface: #ffffff;
  --surface-soft: #f1ede1;
  --surface-muted: #f7f4ed;
  --ink-900: #0f0f0f;
  --ink-800: #2b2b2b;
  --ink-700: #4a4a4a;
  --ink-900-rgb: 15, 15, 15;
  --ink-800-rgb: 43, 43, 43;
  --border-strong: #0f0f0f;
  --solid-strong: #0f0f0f;
  --shadow-strong: #0f0f0f;
  --accent-amber: #f8cd24;
  --accent-lime: #d1ff4e;
  --accent-teal: #64f2c3;
  --selection-bg: #ffe58a;
  --selection-text: #0f0f0f;
  --hatch-color: rgba(0, 0, 0, 0.06);
  --glow: rgba(255, 255, 255, 0.38);
  color-scheme: light;
}

:root[data-theme="dark"] {
  --page-bg: #06080f;
  --page-grid: #101827;
  --surface: #0d111a;
  --surface-soft: #0f1623;
  --surface-muted: #0b1018;
  --ink-900: #f6f8fb;
  --ink-800: #c7cfde;
  --ink-700: #8e98aa;
  --ink-900-rgb: 246, 248, 251;
  --ink-800-rgb: 199, 207, 222;
  --border-strong: rgba(255, 255, 255, 0.18);
  --solid-strong: #121a2c;
  --shadow-strong: rgba(1, 3, 10, 0.9);
  --accent-amber: #f4d040;
  --accent-lime: #11A778;
  --accent-teal: #63c3ff;
  --selection-bg: #1f2f53;
  --selection-text: #f6f8fb;
  --hatch-color: rgba(255, 255, 255, 0.06);
  --glow: rgba(99, 120, 255, 0.2);
  color-scheme: dark;
}

body.theme-shell {
  background-color: var(--page-bg);
  color: var(--ink-900);
  background-image: linear-gradient(var(--page-grid) 1px, transparent 1px),
    linear-gradient(90deg, var(--page-grid) 1px, transparent 1px);
  background-size: 32px 32px;
  transition: background-color 220ms ease, color 220ms ease, background-image 220ms ease;
}

body.theme-shell::selection,
body.theme-shell *::selection {
  background: var(--selection-bg);
  color: var(--selection-text);
}

/* Palette overrides for Tailwind utility classes */
.bg-white {
  background-color: var(--surface) !important;
}

.bg-\[\#f1ede1\] {
  background-color: var(--surface-soft) !important;
}

.bg-\[\#f7f4ed\] {
  background-color: var(--surface-muted) !important;
}

.bg-neutral-900 {
  background-color: var(--solid-strong) !important;
}

.bg-\[\#f8cd24\] {
  background-color: var(--accent-amber) !important;
}

.bg-\[\#d1ff4e\] {
  background-color: var(--accent-lime) !important;
}

.text-neutral-900 {
  color: var(--ink-900) !important;
}

.text-neutral-900\/80 {
  color: rgba(var(--ink-900-rgb), 0.8) !important;
}

.text-neutral-800 {
  color: var(--ink-800) !important;
}

.text-\[\#f8cd24\] {
  color: var(--accent-amber) !important;
}

.decoration-neutral-900 {
  text-decoration-color: var(--ink-900) !important;
}

.border-neutral-900 {
  border-color: var(--border-strong) !important;
}

.border-\[\#f8cd24\] {
  border-color: var(--accent-amber) !important;
}

.border-\[\#d1ff4e\] {
  border-color: var(--accent-lime) !important;
}

:root[data-theme="dark"] .bg-\[\#f8cd24\],
:root[data-theme="dark"] .bg-\[\#d1ff4e\] {
  color: #0f0f0f;
}

:root[data-theme="dark"] .bg-\[\#f8cd24\].border-neutral-900,
:root[data-theme="dark"] .bg-\[\#d1ff4e\].border-neutral-900 {
  border-color: #0f0f0f !important;
}

:root[data-theme="dark"] .bg-\[\#f8cd24\] .text-neutral-900,
:root[data-theme="dark"] .bg-\[\#d1ff4e\] .text-neutral-900 {
  color: #0f0f0f !important;
}

:root[data-theme="dark"] .bg-\[\#f8cd24\] .text-neutral-800,
:root[data-theme="dark"] .bg-\[\#d1ff4e\] .text-neutral-800 {
  color: #1b1b1b !important;
}

:root[data-theme="dark"] .bg-\[\#f8cd24\] .text-neutral-900\/80,
:root[data-theme="dark"] .bg-\[\#d1ff4e\] .text-neutral-900\/80 {
  color: rgba(15, 15, 15, 0.76) !important;
}

.shadow-\[4px_4px_0_#0f0f0f\] {
  box-shadow: 4px 4px 0 var(--shadow-strong) !important;
}

.shadow-\[6px_6px_0_#0f0f0f\] {
  box-shadow: 6px 6px 0 var(--shadow-strong) !important;
}

.shadow-\[8px_8px_0_#0f0f0f\] {
  box-shadow: 8px 8px 0 var(--shadow-strong) !important;
}

.shadow-\[10px_10px_0_#0f0f0f\] {
  box-shadow: 10px 10px 0 var(--shadow-strong) !important;
}

.shadow-\[12px_12px_0_#0f0f0f\] {
  box-shadow: 12px 12px 0 var(--shadow-strong) !important;
}

.shadow-\[14px_14px_0_#0f0f0f\] {
  box-shadow: 14px 14px 0 var(--shadow-strong) !important;
}

.from-\[\#f7f4ed\] {
  --tw-gradient-from: var(--surface-muted) var(--tw-gradient-from-position) !important;
  --tw-gradient-to: transparent var(--tw-gradient-to-position) !important;
  --tw-gradient-to: color-mix(in srgb, var(--surface-muted) 0%, transparent) var(--tw-gradient-to-position) !important;
  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to) !important;
}

.theme-pattern {
  background-image: repeating-linear-gradient(135deg, var(--hatch-color) 0, var(--hatch-color) 12px, transparent 12px, transparent 24px);
  opacity: 0.4;
}

.theme-veil {
  background: linear-gradient(to bottom, var(--glow), transparent 65%);
}

.theme-fade-l {
  background: linear-gradient(to right, var(--surface-muted) 0%, transparent 100%);
}

.theme-fade-r {
  background: linear-gradient(to left, var(--surface-muted) 0%, transparent 100%);
}

.theme-toggle {
  border-color: var(--border-strong);
  background-color: var(--surface);
  background: color-mix(in srgb, var(--surface) 70%, transparent);
  box-shadow: 4px 4px 0 var(--shadow-strong);
  color: var(--ink-900);
  backdrop-filter: blur(6px);
  transition: transform 180ms ease, box-shadow 180ms ease, background-color 180ms ease;
}

.theme-toggle:focus-visible {
  outline: 2px solid var(--accent-amber);
  outline-offset: 3px;
}

:root[data-theme="dark"] .theme-toggle:focus-visible {
  outline-color: var(--accent-lime);
}

.theme-toggle__track {
  background-color: var(--surface-soft);
  background: color-mix(in srgb, var(--surface-soft) 80%, transparent);
  border: 2px solid var(--border-strong);
  display: inline-flex;
  align-items: center;
  justify-content: flex-start;
  border-radius: 9999px;
  position: relative;
  height: 1.5rem;
  width: 2.75rem;
}

.theme-toggle__thumb {
  background: var(--accent-amber);
  border: 2px solid var(--border-strong);
  box-shadow: 0 0 0 1px var(--border-strong), 0 0 0 8px color-mix(in srgb, var(--accent-amber) 20%, transparent);
  border-radius: 9999px;
  display: inline-block;
  height: 1rem;
  width: 1rem;
  position: absolute;
  left: 2px;
  transition: transform 200ms ease, background-color 200ms ease, box-shadow 200ms ease;
}

:root[data-theme="dark"] .theme-toggle__thumb {
  background: var(--accent-lime);
  box-shadow: 0 0 0 1px var(--border-strong), 0 0 0 8px color-mix(in srgb, var(--accent-lime) 18%, transparent);
}

.theme-toggle[data-state="dark"] .theme-toggle__thumb {
  transform: translateX(1.25rem);
}

.theme-toggle__label {
  color: var(--ink-800);
  letter-spacing: 0.12em;
  text-transform: uppercase;
}
